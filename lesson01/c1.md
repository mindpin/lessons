字符串转化为艺术字图片
===========

1
==
在平时我们有没有这种需求，把一段文字用艺术字显示，并且可以保持成图片

2
==
例如我们在新浪微博中 所见到的  如：(http://ww1.sinaimg.cn/bmiddle/dd0b97bbjw1e803gixiy6j20c83gvqtp.jpg



3
==
下面是如何实现的代码：

  *   封装一个文件，我只需要, 运行这个类 并且传入我们要实现的字符串文件
      如 ruby text-img.rb test.txt

  *   下面编写文件
      ### 接收参数 参数名我们命名为 param = ARGV[0]
      ### 判读接收到的文件是否存在，并读取 如果不存在就返回
      ### 在文件存在的情况下，我们就可以来制作图片了
          1> 首先我们 需要用到一些图形处理的gem，如 rmagick ,  字体ttf文件 和 字符串文件
          2> 开始创建一个与制定的空图片  
            img = Magick::Image.new(width,height,Magick::HatchFill.new('white','white'))

          3> 创建一个画布，并设置字体格式即文字大小
            gc = Magick::Draw.new
            gc.stroke('transparent')
            gc.pointsize(24)

          4> 在把我们需要的字符串写在图片上
           gc.font("luxirbi.ttf")  
           gc.text(20,40, str)

          5> 把画布印在图片上，并输出
           gc.draw(img)
           img.write(img_name)  

          6> 这样图片就出来了，见图  https://github.com/mindpin/lessons/blob/master/lesson01/img.jpg

          7> 看一下完整的代码
          # -*- coding: utf-8 -*-
          require 'RMagick'  # gem install rmagick
          
          def file_read(filename)
            return nil if !File.exist?(filename)
            content = ""
            File.open(filename) do |file|
              content = file.read
            end
            puts content
            return content
          end
          
          def img_init(str,width,height,img_name)
            img = Magick::Image.new(width,height,Magick::HatchFill.new('white','white'))
            gc = Magick::Draw.new
            gc.stroke('transparent')
            gc.pointsize(24)
          
            gc.font("luxirbi.ttf")  
            gc.text(20,40, str)  
          
            gc.draw(img)
            img.write(img_name)  
          end
          
          
          param = ARGV[0]
          
          filename = file_read(param)
          
          if filename.nil?
            p 'not fond'
          else
            img_init(filename, 440, 800, 'img.jpg')
          end
